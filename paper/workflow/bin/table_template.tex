<%
threads = table.index.levels[0]
progs = table.index.levels[1]
%>
\begin{table}[ht]
\centering
\begin{tabular}{l${'r|r' * len(threads)}}
\sisetup{detect-weight=true,detect-inline-weight=math}
    % if len(threads) == 1:
    Program & Min & Max \\
    \hfill{} & \multicolumn{2}{c}{Execution Time (sec.)} \\\hline
    % else:
    \hfill{} & ${" & ".join("\multicolumn{{2}}{{c}}{{{} Threads}}".format(t) for t in threads)} \\\hline
    Program & \multicolumn{${len(threads)*2}}{c}{Execution Time (Min$|$Max sec.)} \\\hline
    % endif
    % for p in progs:
        ${p}
        % for t in threads:
        ${table.loc[t, p]['Duration', 'min']} & ${table.loc[t, p]['Duration', 'max']}
        
        % endfor 
        \\
    % endfor
    \hline
    
    % if len(threads) == 1:
    \hfill{} & \multicolumn{2}{c}{Memory Usage (MB)} \\\hline
    % else:
    \hfill{} & \multicolumn{${len(threads)*2}}{c}{Memory Usage (Min$|$Max MB)} \\\hline
    % endif
    % for p in progs:
        ${p}
        % for t in threads:
        ${table.loc[t, p]['MemoryMB', 'min']} & ${table.loc[t, p]['MemoryMB', 'max']}
        
        % endfor
        \\
    % endfor
    \hline
    
    % if len(threads) == 1:
    \hfill{} & \multicolumn{2}{c}{CPU Usage (GB)} \\\hline
    % else:
    \hfill{} & \multicolumn{${len(threads)*2}}{c}{CPU Usage (Min$|$Max %)} \\\hline
    % endif
    % for p in progs:
        ${p}
        % for t in threads:
        ${table.loc[t, p]['CPUPct', 'min']} & ${table.loc[t, p]['CPUPct', 'max']}
        
        % endfor
        \\
    % endfor
    
\end{tabular}
\caption{\label{tab:${name}}${caption}}
\end{table}
